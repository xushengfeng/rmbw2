# rmbw-dic

主流的字典格式有 mdic 和 macOS 上的 .dictionary 格式。mdic 不开源，.dictionary 解析复杂，我想在 rmbw 上使用一个开源的字典格式。

rmbw 由 TS 写成，故字典也使用 JSON 格式，JSON 格式解析方便，有许多语言支持，还有 JSON5、JSONL 等格式。

具体格式定义参考 [dic](./src/main.ts)，使用 TS 定义，但表示的 JSON 格式可以使用其他语言解析。

## 功能

-   支持纯文本和 HTML 格式。HTML 格式可添加模板，这对于统一样式很有用
-   支持别名
-   版本向下兼容，文件标记了版本号，向下兼容取决于解析器
-   资源（图片、音频、脚本等）使用 tar 格式打包，方便创建和编辑

## 实现

仓库附带了 TS/JS 解析器实现，可以直接使用。支持 nodejs、浏览器。

TS 脚本可以解析 object 或 string，提供了基本的查询功能。可以自动解析旧版本的字典，支持导出为新版本。

## 转换为 rmbw-dic

待实现，欢迎 PR。

## 其他

字典的索引键按拼写来，意思不同的同拼写词，各个意思视为一个词的不同义项。

区分大小写，模糊查询等功能需要自己实现。

可以在编辑字典时把大小写合并为小写，或者添加别名，或者在 HTML 中添加大写的链接。

字典内容未定义具体格式，如义项、音标、例句等，仅仅是字符串或 HTML 字符串。

资源不要添加目录，也不要创建根目录。
